!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Annotorious=e():(n.Annotorious=n.Annotorious||{},n.Annotorious.Toolbar=e())}(self,(()=>(()=>{var n={922:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t,r,c,o=n[1]||"",i=n[3];if(!i)return o;if(e&&"function"==typeof btoa){var a=(t=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),c="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(c," */")),s=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[o].concat(s).concat([a]).join("\n")}return[o].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,r){"string"==typeof n&&(n=[[null,n,""]]);var c={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(c[i]=!0)}for(var a=0;a<n.length;a++){var s=[].concat(n[a]);r&&c[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),e.push(s))}},e}},424:(n,e,t)=>{(e=t(922)(!1)).push([n.id,".a9s-toolbar-btn {\n  margin:4px 4px 4px 0;\n  outline:0;\n  border:none;\n  cursor:pointer;\n  background-color:transparent;\n  border-radius:4px;\n  padding:8px;\n  width:45px;\n  height:45px;\n}\n\n.a9s-toolbar-btn:hover {\n  background-color:rgba(0,0,0,0.05);\n}\n\n.a9s-toolbar-btn-inner {\n  display:flex;\n}\n\n.a9s-toolbar-btn svg {\n  overflow:visible;\n  width:100%;\n  height:100%;\n}\n\n.a9s-toolbar-btn svg * {\n  stroke-width:5px;\n  fill:none;\n  stroke:rgba(0,0,0,0.5);\n}\n\n.a9s-toolbar-btn g.handles circle {\n  stroke-width:4px;\n  fill:#fff;\n  stroke:#000;\n}\n\n.a9s-toolbar-btn.active {\n  background-color:rgba(0,0,0,0.3);\n}\n\n.a9s-toolbar-btn.active svg * {\n  stroke:rgba(255,255,255,0.6);\n}\n\n.a9s-toolbar-btn.active g.handles circle {\n  stroke:#fff;\n  fill:rgba(0,0,0,0.2);\n}\n",""]),n.exports=e},379:(n,e,t)=>{"use strict";var r,c=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),o=[];function i(n){for(var e=-1,t=0;t<o.length;t++)if(o[t].identifier===n){e=t;break}return e}function a(n,e){for(var t={},r=[],c=0;c<n.length;c++){var a=n[c],s=e.base?a[0]+e.base:a[0],l=t[s]||0,u="".concat(s," ").concat(l);t[s]=l+1;var d=i(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(f)):o.push({identifier:u,updater:p(f,e),references:1}),r.push(u)}return r}function s(n){var e=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var o=t.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(n){e.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(e);else{var i=c(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,u=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join("\n")});function d(n,e,t,r){var c=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=u(e,c);else{var o=document.createTextNode(c),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(o,i[e]):n.appendChild(o)}}function f(n,e,t){var r=t.css,c=t.media,o=t.sourceMap;if(c?n.setAttribute("media",c):n.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var v=null,g=0;function p(n,e){var t,r,c;if(e.singleton){var o=g++;t=v||(v=s(e)),r=d.bind(null,t,o,!1),c=d.bind(null,t,o,!0)}else t=s(e),r=f.bind(null,t,e),c=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return r(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;r(n=e)}else c()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=a(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<t.length;r++){var c=i(t[r]);o[c].references--}for(var s=a(n,e),l=0;l<t.length;l++){var u=i(t[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}t=s}}}}},e={};function t(r){var c=e[r];if(void 0!==c)return c.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r={};return(()=>{"use strict";t.d(r,{default:()=>s});var n=t(379),e=t.n(n),c=t(424),o=t.n(c);e()(o(),{insert:"head",singleton:!1}),o().locals;var i,a={rect:(i=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttribute("viewBox","0 0 70 50"),i.innerHTML='\n    <g>\n      <rect x="12" y="10" width="46" height="30" />\n      <g class="handles">\n        <circle cx="12"  cy="10"  r="5" />\n        <circle cx="58" cy="10"  r="5" />\n        <circle cx="12"  cy="40" r="5" />\n        <circle cx="58" cy="40" r="5" />\n      </g>\n    </g>\n  ',i),polygon:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <path d=\'M 5,14 60,5 55,45 18,38 Z\' />\n      <g class="handles">\n        <circle cx="5"  cy="14"  r="5" />\n        <circle cx="60" cy="5"  r="5" />\n        <circle cx="55"  cy="45" r="5" />\n        <circle cx="18" cy="38" r="5" />\n      </g>\n    </g>\n  ',n}(),circle:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <circle cx="35" cy="25" r="23" />\n      <g class="handles">\n        <circle cx="35" cy="2"  r="5" />\n        <circle cx="12" cy="25" r="5" />\n        <circle cx="58" cy="25" r="5" />\n        <circle cx="35" cy="48" r="5" />\n      </g>\n    </g>\n  ',n}(),ellipse:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <ellipse cx="35" cy="25" rx="30" ry="19" />\n      <g class="handles">\n        <circle cx="35" cy="6"  r="5" />\n        <circle cx="5" cy="25" r="5" />\n        <circle cx="65" cy="25" r="5" />\n        <circle cx="35" cy="44" r="5" />\n      </g>\n    </g>\n  ',n}(),freehand:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <path d="m 34.427966,2.7542372 c 0,0 -22.245763,20.7627118 -16.737288,27.7542378 5.508475,6.991525 27.648305,-15.36017 34.639831,-9.11017 6.991525,6.25 -11.440678,13.665255 -13.983051,25.423729" />\n      <g class="handles">\n        <circle cx="34.427966" cy="2.7542372"  r="5" />\n        <circle cx="38.347458" cy="46.822033" r="5" />\n      </g>\n    </g>\n  ',n}(),point:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <circle cx="36" cy="24" r="11" />\n      <g class="handles"><circle cx="36" cy="24" r="4" /></g>\n      <line x1="36" y1="3" x2="36" y2="13" />\n      <line x1="36" y1="35" x2="36" y2="45" />\n      <line x1="15" y1="24" x2="25" y2="24" />\n      <line x1="47" y1="24" x2="57" y2="24" />\n    </g>\n  ',n}(),"annotorious-tilted-box":function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <path d="M 45.14,2.37 60.67,20.76 25.33,50.32 9.9,31.94 Z"/>\n      <g class="handles">\n        <circle cx="45.14" cy="2.37"  r="5" />\n        <circle cx="60.67" cy="20.76"  r="5" />\n        <circle cx="25.33" cy="50.32" r="5" />\n        <circle cx="9.9"   cy="31.94" r="5" />\n      </g>\n    </g>\n  ',n}(),line:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <line x1="10" y1="50" x2="60" y2="10"></line>\n      <g class="handles">\n        <circle cx="55" cy="14" r="5"></circle>\n        <circle cx="12" cy="47" r="5"></circle>\n      </g>\n    </g>\n  ',n}()};const s=function(n,e,t){var r=!!n.fitBounds,c=document.createElement("div");c.className="a9s-toolbar",c.setAttribute("id",e.concat("-a9s-toolbar"));var o=function(){var n,e,t=c.querySelector(".a9s-toolbar-btn.active");t&&("active",e=(n=t).getAttribute("class").split(" ").filter((function(n){return"active"!==n})),n.setAttribute("class",e.join(" ")))};n.listDrawingTools().forEach((function(t,i){!function(t,i){var s=a[t];if(s){var l=document.createElement("button");l.className=i?"a9s-toolbar-btn ".concat(t," active"):"a9s-toolbar-btn ".concat(t),l.setAttribute("id",e.concat("-",t.concat("-toolbar-btn")));var u=document.createElement("span");u.className="a9s-toolbar-btn-inner",u.appendChild(s),l.addEventListener("click",(function(){(function(n){var e,t;o(),e=n,(t=new Set(e.getAttribute("class").split(" "))).add("active"),e.setAttribute("class",Array.from(t).join(" "))})(l),n.setDrawingTool(t),r&&n.setDrawingEnabled(!0)})),l.appendChild(u.cloneNode(!0)),c.appendChild(l)}}(t,!r&&0===i)})),r&&n.on("createSelection",o),t.appendChild(c)}})(),r.default})()));